---
import mainInfo from '../data/main-info.json';
import gallery from '../data/gallery.json';
import hours from '../data/hours.json';
import socials from '../data/socials.json';

import Layout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import Tagline from '../components/Tagline.astro';
import Section from '../components/Section.astro';
import Button from '../components/Button.astro';
import Footer from '../components/footer/Footer.astro';

const sections = await Astro.glob('../data/sections/*.md');
const links = await Astro.glob('../data/footer-links/*.md');
---

<Layout title="Off Center">
	<div class="header-hero">
		<Header
			name={mainInfo.name}
			subName={mainInfo.subName}
			hours={hours}
			socials={socials}
			logo={mainInfo.logo}
			address={mainInfo.address}
		/>
		<Hero
			gallery={gallery}
			orderLink={mainInfo.orderLink}
			phone={mainInfo.phone}
		/>
	</div>

	<main>
		<Tagline tagline={mainInfo.tagline} taglineEm={mainInfo.taglineEm} />

		<section>
			{
				sections.map(({ Content, frontmatter }) => (
					<Section>
						<h2 slot="title">{frontmatter.title}</h2>
						<img
							slot="image"
							src={frontmatter.thumbnail}
							alt={frontmatter.alt}
						/>
						<Content />
					</Section>
				))
			}
			<h2>Feeling hungry?</h2>
			<div class="button">
				<Button link={mainInfo.orderLink}>Order now!</Button>
			</div>
		</section>

		<Footer
			hours={hours}
			address={mainInfo.address}
			email={mainInfo.email}
			phone={mainInfo.phone}
			links={links}
		/>
	</main>
</Layout>

<style>
	.header-hero {
		top: 0;
		left: 0;
		right: 0;
		width: 100%;
		height: 100vh;
	}

	section {
		margin: 1em 0 3em;
	}

	h2,
	.button {
		text-align: center;
	}

	.button {
		font-size: calc(0.7 * var(--font-size-md));
	}
</style>
